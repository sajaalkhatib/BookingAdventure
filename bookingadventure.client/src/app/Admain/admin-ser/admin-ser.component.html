<div class="container mt-4">
  <h2 class="mb-3">{{ editMode ? 'Edit Adventure' : 'Add Adventure' }}</h2>

  <form (submit)="editMode ? updateAdventure() : addAdventure()" class="mb-4">
    <div class="row g-3">
      <div class="col-md-6">
        <input [(ngModel)]="newAdventure.title" name="title" class="form-control" placeholder="Title" required />
      </div>
      <div class="col-md-6">
        <input [(ngModel)]="newAdventure.description" name="description" class="form-control" placeholder="Description" required />
      </div>
      <div class="col-md-6">
        <input [(ngModel)]="newAdventure.duration" name="duration" class="form-control" placeholder="Duration" required />
      </div>
      <div class="col-md-6">
        <input [(ngModel)]="newAdventure.level" name="level" class="form-control" placeholder="Level" required />
      </div>
      <div class="col-md-6">
        <input type="number" [(ngModel)]="newAdventure.price" name="price" class="form-control" placeholder="Price" required />
      </div>
      <div class="col-md-6">
        <input [(ngModel)]="newAdventure.location" name="location" class="form-control" placeholder="Location" required />
      </div>
      <div class="col-md-6">
        <input type="number" [(ngModel)]="newAdventure.maxParticipants" name="maxParticipants" class="form-control" placeholder="Max Participants" required />
      </div>
      <div class="col-md-6">
        <input [(ngModel)]="newAdventure.imageUrl" name="imageUrl" class="form-control" placeholder="Image URL" />
      </div>
    </div>

    <div class="mt-3">
      <button type="submit" class="btn btn-primary">{{ editMode ? 'Update' : 'Add' }} Adventure</button>
      <button *ngIf="editMode" type="button" (click)="cancelEdit()" class="btn btn-secondary ms-2">Cancel</button>
    </div>
  </form>

  <h2 class="mb-3">Adventures List</h2>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Duration</th>
        <th>Level</th>
        <th>Price</th>
        <th>Location</th>
        <th>Max Participants</th>
        <th>Available</th>
        <th>Image</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let adventure of adventures">
        <td>{{ adventure.title }}</td>
        <td>{{ adventure.description }}</td>
        <td>{{ adventure.duration }}</td>
        <td>{{ adventure.level }}</td>
        <td>{{ adventure.price }}</td>
        <td>{{ adventure.location }}</td>
        <td>{{ adventure.maxParticipants }}</td>
        <td>{{ adventure.isAvailable ? 'Yes' : 'No' }}</td>
        <td>
          <img *ngIf="adventure.images.length" [src]="adventure.images[0].imageUrl" alt="Adventure Image" width="60">
        </td>
        <td>
          <button class="btn btn-sm btn-warning me-1" (click)="editAdventure(adventure)">Edit</button>
          <button class="btn btn-sm btn-danger" (click)="deleteAdventure(adventure.adventureId)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
